var h=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},E={},v={},O={};(function(t){var e=h&&h.__read||function(a,u){var l=typeof Symbol=="function"&&a[Symbol.iterator];if(!l)return a;var f=l.call(a),y,p=[],g;try{for(;(u===void 0||u-- >0)&&!(y=f.next()).done;)p.push(y.value)}catch(C){g={error:C}}finally{try{y&&!y.done&&(l=f.return)&&l.call(f)}finally{if(g)throw g.error}}return p},n=h&&h.__spreadArray||function(a,u,l){if(l||arguments.length===2)for(var f=0,y=u.length,p;f<y;f++)(p||!(f in u))&&(p||(p=Array.prototype.slice.call(u,0,f)),p[f]=u[f]);return a.concat(p||Array.prototype.slice.call(u))};Object.defineProperty(t,"__esModule",{value:!0}),t.keyComparer=t.composeComparers=t.negate=t.equal=t.isObj=void 0;var r=function(a){return!!a&&typeof a=="object"};t.isObj=r;var i=function(a,u){return Object.entries(a).every(function(l){var f=e(l,2),y=f[0],p=f[1];return(0,t.isObj)(p)?(0,t.equal)(u[y],p):u[y]===p})};t.equal=i;var o=function(a){return function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return!a.apply(void 0,n([],e(u),!1))}};t.negate=o;var s=function(a,u){return function(l,f){return a(l,f)||u(l,f)}};t.composeComparers=s;var c=function(a,u){return function(l,f){var y=a(l),p=a(f);return y>p?u?-1:1:y<p?u?1:-1:0}};t.keyComparer=c})(O);var k=h&&h.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),T=h&&h.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(l){return a([u,l])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},_=h&&h.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},d=h&&h.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},j=h&&h.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(v,"__esModule",{value:!0});var m=O,S=function(){function t(e){e===void 0&&(e=[]),this._elements=d([],_(e),!1)}return t.prototype[Symbol.iterator]=function(){var e,n,r,i,o,s;return T(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,7]),e=j(this._elements),n=e.next(),c.label=1;case 1:return n.done?[3,4]:(r=n.value,[4,r]);case 2:c.sent(),c.label=3;case 3:return n=e.next(),[3,1];case 4:return[3,7];case 5:return i=c.sent(),o={error:i},[3,7];case 6:try{n&&!n.done&&(s=e.return)&&s.call(e)}finally{if(o)throw o.error}return[7];case 7:return[2]}})},Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return"List"},enumerable:!1,configurable:!0}),t.prototype.Add=function(e){this._elements.push(e)},t.prototype.Append=function(e){this.Add(e)},t.prototype.Prepend=function(e){this._elements.unshift(e)},t.prototype.AddRange=function(e){var n;(n=this._elements).push.apply(n,d([],_(e),!1))},t.prototype.Aggregate=function(e,n){return this._elements.reduce(e,n)},t.prototype.All=function(e){return this._elements.every(e)},t.prototype.Any=function(e){return e?this._elements.some(e):this._elements.length>0},t.prototype.Average=function(e){return this.Sum(e)/this.Count(e)},t.prototype.Cast=function(){return new t(this._elements)},t.prototype.Clear=function(){this._elements.length=0},t.prototype.Concat=function(e){return new t(this._elements.concat(e.ToArray()))},t.prototype.Contains=function(e){return this.Any(function(n){return n===e})},t.prototype.Count=function(e){return e?this.Where(e).Count():this._elements.length},t.prototype.DefaultIfEmpty=function(e){return this.Count()?this:new t([e])},t.prototype.Distinct=function(){return this.Where(function(e,n,r){return((0,m.isObj)(e)?r.findIndex(function(i){return(0,m.equal)(i,e)}):r.indexOf(e))===n})},t.prototype.DistinctBy=function(e){var n=this.GroupBy(e);return Object.keys(n).reduce(function(r,i){return r.Add(n[i][0]),r},new t)},t.prototype.ElementAt=function(e){if(e<this.Count()&&e>=0)return this._elements[e];throw new Error("ArgumentOutOfRangeException: index is less than 0 or greater than or equal to the number of elements in source.")},t.prototype.ElementAtOrDefault=function(e){return e<this.Count()&&e>=0?this._elements[e]:void 0},t.prototype.Except=function(e){return this.Where(function(n){return!e.Contains(n)})},t.prototype.First=function(e){if(this.Count())return e?this.Where(e).First():this._elements[0];throw new Error("InvalidOperationException: The source sequence is empty.")},t.prototype.FirstOrDefault=function(e){return this.Count(e)?this.First(e):void 0},t.prototype.ForEach=function(e){return this._elements.forEach(e)},t.prototype.GroupBy=function(e,n){n===void 0&&(n=function(i){return i});var r={};return this.Aggregate(function(i,o){var s=e(o),c=i[s],a=n(o);return c?c.push(a):i[s]=[a],i},r)},t.prototype.GroupJoin=function(e,n,r,i){return this.Select(function(o){return i(o,e.Where(function(s){return n(o)===r(s)}))})},t.prototype.IndexOf=function(e){return this._elements.indexOf(e)},t.prototype.Insert=function(e,n){if(e<0||e>this._elements.length)throw new Error("Index is out of range.");this._elements.splice(e,0,n)},t.prototype.Intersect=function(e){return this.Where(function(n){return e.Contains(n)})},t.prototype.Join=function(e,n,r,i){return this.SelectMany(function(o){return e.Where(function(s){return r(s)===n(o)}).Select(function(s){return i(o,s)})})},t.prototype.Last=function(e){if(this.Count())return e?this.Where(e).Last():this._elements[this.Count()-1];throw Error("InvalidOperationException: The source sequence is empty.")},t.prototype.LastOrDefault=function(e){return this.Count(e)?this.Last(e):void 0},t.prototype.Max=function(e){var n=function(r){return r};return Math.max.apply(Math,d([],_(this._elements.map(e||n)),!1))},t.prototype.Min=function(e){var n=function(r){return r};return Math.min.apply(Math,d([],_(this._elements.map(e||n)),!1))},t.prototype.OfType=function(e){var n;switch(e){case Number:n="number";break;case String:n="string";break;case Boolean:n="boolean";break;case Function:n="function";break;default:n=null;break}return n===null?this.Where(function(r){return r instanceof e}).Cast():this.Where(function(r){return typeof r===n}).Cast()},t.prototype.OrderBy=function(e,n){return n===void 0&&(n=(0,m.keyComparer)(e,!1)),new w(this._elements,n)},t.prototype.OrderByDescending=function(e,n){return n===void 0&&(n=(0,m.keyComparer)(e,!0)),new w(this._elements,n)},t.prototype.ThenBy=function(e){return this.OrderBy(e)},t.prototype.ThenByDescending=function(e){return this.OrderByDescending(e)},t.prototype.Remove=function(e){return this.IndexOf(e)!==-1?(this.RemoveAt(this.IndexOf(e)),!0):!1},t.prototype.RemoveAll=function(e){return this.Where((0,m.negate)(e))},t.prototype.RemoveAt=function(e){this._elements.splice(e,1)},t.prototype.Reverse=function(){return new t(this._elements.reverse())},t.prototype.Select=function(e){return new t(this._elements.map(e))},t.prototype.SelectMany=function(e){var n=this;return this.Aggregate(function(r,i,o){return r.AddRange(n.Select(e).ElementAt(o).ToArray()),r},new t)},t.prototype.SequenceEqual=function(e){return this.All(function(n){return e.Contains(n)})},t.prototype.Single=function(e){if(this.Count(e)!==1)throw new Error("The collection does not contain exactly one element.");return this.First(e)},t.prototype.SingleOrDefault=function(e){return this.Count(e)?this.Single(e):void 0},t.prototype.Skip=function(e){return new t(this._elements.slice(Math.max(0,e)))},t.prototype.SkipLast=function(e){return new t(this._elements.slice(0,-Math.max(0,e)))},t.prototype.SkipWhile=function(e){var n=this;return this.Skip(this.Aggregate(function(r){return e(n.ElementAt(r))?++r:r},0))},t.prototype.Sum=function(e){return e?this.Select(e).Sum():this.Aggregate(function(n,r){return n+=+r},0)},t.prototype.Take=function(e){return new t(this._elements.slice(0,Math.max(0,e)))},t.prototype.TakeLast=function(e){return new t(this._elements.slice(-Math.max(0,e)))},t.prototype.TakeWhile=function(e){var n=this;return this.Take(this.Aggregate(function(r){return e(n.ElementAt(r))?++r:r},0))},t.prototype.ToArray=function(){return this._elements},t.prototype.ToDictionary=function(e,n){var r=this;return this.Aggregate(function(i,o,s){return i[r.Select(e).ElementAt(s).toString()]=n?r.Select(n).ElementAt(s):o,i.Add({Key:r.Select(e).ElementAt(s),Value:n?r.Select(n).ElementAt(s):o}),i},new t)},t.prototype.ToList=function(){return this},t.prototype.ToLookup=function(e,n){return this.GroupBy(e,n)},t.prototype.Union=function(e){return this.Concat(e).Distinct()},t.prototype.Where=function(e){return new t(this._elements.filter(e))},t.prototype.Zip=function(e,n){var r=this;return e.Count()<this.Count()?e.Select(function(i,o){return n(r.ElementAt(o),i)}):this.Select(function(i,o){return n(i,e.ElementAt(o))})},t}(),w=function(t){k(e,t);function e(n,r){var i=t.call(this,n)||this;return i._comparer=r,i._elements.sort(i._comparer),i}return e.prototype.ThenBy=function(n){return new e(this._elements,(0,m.composeComparers)(this._comparer,(0,m.keyComparer)(n,!1)))},e.prototype.ThenByDescending=function(n){return new e(this._elements,(0,m.composeComparers)(this._comparer,(0,m.keyComparer)(n,!0)))},e}(S);v.default=S;var b={};Object.defineProperty(b,"__esModule",{value:!0});var A=v,M=function(){function t(){}return t.Range=function(e,n){for(var r=new A.default;n--;)r.Add(e++);return r},t.Repeat=function(e,n){for(var r=new A.default;n--;)r.Add(e);return r},t}();b.default=M;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Enumerable=t.List=void 0;var e=v;Object.defineProperty(t,"List",{enumerable:!0,get:function(){return e.default}});var n=b;Object.defineProperty(t,"Enumerable",{enumerable:!0,get:function(){return n.default}})})(E);export{E as s};
